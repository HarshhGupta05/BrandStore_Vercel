{"version":3,"sources":["../../../../components/ui/card.tsx","../../../../app/categories/page.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn('leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn('px-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n","\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport Link from \"next/link\"\r\nimport { useSearchParams, useRouter } from \"next/navigation\"\r\nimport { Card, CardContent } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { categories } from \"@/lib/dummy-data\"\r\nimport { useStore } from \"@/contexts/store-context\"\r\nimport { ShoppingCart } from \"lucide-react\"\r\n\r\nexport default function CategoriesPage() {\r\n  const searchParams = useSearchParams()\r\n  const router = useRouter()\r\n  const categoryFromUrl = searchParams.get(\"category\")\r\n  const [selectedCategory, setSelectedCategory] = useState<string | null>(categoryFromUrl)\r\n  const { products, addToCart, user } = useStore()\r\n  const [addedToCart, setAddedToCart] = useState<string | null>(null)\r\n\r\n  useEffect(() => {\r\n    if (categoryFromUrl) {\r\n      setSelectedCategory(categoryFromUrl)\r\n    }\r\n  }, [categoryFromUrl])\r\n\r\n  const availableProducts = products.filter((p) => p.stock > 0)\r\n  const filteredProducts = selectedCategory\r\n    ? availableProducts.filter((p) => p.category === selectedCategory)\r\n    : availableProducts\r\n\r\n  const handleAddToCart = (product: (typeof products)[0]) => {\r\n    // Only allow direct add to cart for products without sizes\r\n    if (product.sizes && product.sizes.length > 0) {\r\n      // Redirect to product page for size selection\r\n      router.push(`/products/${product.id}`)\r\n      return\r\n    }\r\n    addToCart(product)\r\n    setAddedToCart(product.id)\r\n    setTimeout(() => setAddedToCart(null), 2000)\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <h1 className=\"mb-2 text-3xl font-bold\">Browse Products</h1>\r\n      <p className=\"mb-6 text-muted-foreground\">Discover our wide selection of quality products</p>\r\n\r\n      {/* Category Filter */}\r\n      <div className=\"mb-8 flex flex-wrap gap-2\">\r\n        <Button variant={selectedCategory === null ? \"default\" : \"outline\"} onClick={() => setSelectedCategory(null)}>\r\n          All Products\r\n        </Button>\r\n        {categories.map((category) => (\r\n          <Button\r\n            key={category}\r\n            variant={selectedCategory === category ? \"default\" : \"outline\"}\r\n            onClick={() => setSelectedCategory(category)}\r\n          >\r\n            {category}\r\n          </Button>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4\">\r\n        {filteredProducts.map((product) => (\r\n          <Card key={product.id} className=\"overflow-hidden hover:shadow-lg transition-shadow\">\r\n            <Link href={`/products/${product.id}`}>\r\n              <img\r\n                src={product.image || \"/placeholder.svg\"}\r\n                alt={product.name}\r\n                className=\"h-48 w-full cursor-pointer object-cover transition-transform hover:scale-105\"\r\n              />\r\n            </Link>\r\n            <CardContent className=\"p-4\">\r\n              <div className=\"mb-1 text-xs font-medium text-muted-foreground uppercase\">{product.category}</div>\r\n              <Link href={`/products/${product.id}`}>\r\n                <h3 className=\"mb-2 cursor-pointer font-semibold hover:text-primary line-clamp-1\">{product.name}</h3>\r\n              </Link>\r\n              <p className=\"mb-3 text-sm text-muted-foreground line-clamp-2\">{product.description}</p>\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <span className=\"text-2xl font-bold\">â‚¹{product.price.toFixed(2)}</span>\r\n                {user?.role === \"admin\" && (\r\n                  <span className=\"text-xs text-muted-foreground\">{product.stock} in stock</span>\r\n                )}\r\n              </div>\r\n              <Button className=\"w-full\" onClick={() => handleAddToCart(product)} disabled={addedToCart === product.id}>\r\n                {addedToCart === product.id ? (\r\n                  \"Added!\"\r\n                ) : (\r\n                  <>\r\n                    <ShoppingCart className=\"mr-2 h-4 w-4\" />\r\n                    {product.sizes && product.sizes.length > 0 ? \"Select Size\" : \"Add to Cart\"}\r\n                  </>\r\n                )}\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}